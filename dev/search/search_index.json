{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"CRISPIN \ud83c\udf6a \u00b6 CRISP r screen sequencing analysis pipel IN e formerly known as CRUISE \ud83d\udea7 This project is under active development. It is not yet ready for production use. \ud83d\udea7 Set up \u00b6 CRISPIN is installed on the Biowulf HPC . For installation in other execution environments, refer to the docs . Biowulf \u00b6 CRISPIN is available on Biowulf in the ccbrpipeliner module. You'll first need to start an interactive session and create a directory from where you'll run crispin. # start an interactive node sinteractive --mem = 2g --cpus-per-task = 2 --gres = lscratch:200 # make a working directory for your project and go to it mkdir -p /data/ $USER /crisprseq cd /data/ $USER /crisprseq # load the ccbrpipeliener module module load ccbrpipeliner Usage \u00b6 Initialize and run crispin with test data: # copy the crispin config files to your current directory crispin init # preview the crispin jobs that will run with the test dataset crispin run --mode local -profile test -preview # launch a crispin run on slurm with the test dataset crispin run --mode slurm -profile test,biowulf To run CRISPIN on your own data, you'll need to create a sample sheet. Take a look at the example: assets/samplesheet_test_biowulf.csv . You'll also need to select an appropriate library for your dataset. CRISPIN is bundled with several libraries in assets/lib , or you can download your own. Once you've created a samplesheet with paths to your fastq files, run crispin with the --input option to specify the path to your sample sheet and --library for the path to your library file: crispin run --mode slurm -profile biowulf --input samplesheet.csv --library assets/lib/yusa_library.csv Help & Contributing \u00b6 Come across a bug ? Open an issue and include a minimal reproducible example. Have a question ? Ask it in discussions . Want to contribute to this project? Check out the contributing guidelines . References \u00b6 This repo was originally generated from the CCBR Nextflow Template . The template takes inspiration from nektool 1 and the nf-core template. If you plan to contribute your pipeline to nf-core, don't use this template -- instead follow nf-core's instructions 2 . nektool https://github.com/beardymcjohnface/nektool \u21a9 instructions for nf-core pipelines https://nf-co.re/docs/contributing/tutorials/creating_with_nf_core \u21a9","title":"Home"},{"location":"#crispin","text":"CRISP r screen sequencing analysis pipel IN e formerly known as CRUISE \ud83d\udea7 This project is under active development. It is not yet ready for production use. \ud83d\udea7","title":"CRISPIN \ud83c\udf6a"},{"location":"#set-up","text":"CRISPIN is installed on the Biowulf HPC . For installation in other execution environments, refer to the docs .","title":"Set up"},{"location":"#biowulf","text":"CRISPIN is available on Biowulf in the ccbrpipeliner module. You'll first need to start an interactive session and create a directory from where you'll run crispin. # start an interactive node sinteractive --mem = 2g --cpus-per-task = 2 --gres = lscratch:200 # make a working directory for your project and go to it mkdir -p /data/ $USER /crisprseq cd /data/ $USER /crisprseq # load the ccbrpipeliener module module load ccbrpipeliner","title":"Biowulf"},{"location":"#usage","text":"Initialize and run crispin with test data: # copy the crispin config files to your current directory crispin init # preview the crispin jobs that will run with the test dataset crispin run --mode local -profile test -preview # launch a crispin run on slurm with the test dataset crispin run --mode slurm -profile test,biowulf To run CRISPIN on your own data, you'll need to create a sample sheet. Take a look at the example: assets/samplesheet_test_biowulf.csv . You'll also need to select an appropriate library for your dataset. CRISPIN is bundled with several libraries in assets/lib , or you can download your own. Once you've created a samplesheet with paths to your fastq files, run crispin with the --input option to specify the path to your sample sheet and --library for the path to your library file: crispin run --mode slurm -profile biowulf --input samplesheet.csv --library assets/lib/yusa_library.csv","title":"Usage"},{"location":"#help-contributing","text":"Come across a bug ? Open an issue and include a minimal reproducible example. Have a question ? Ask it in discussions . Want to contribute to this project? Check out the contributing guidelines .","title":"Help &amp; Contributing"},{"location":"#references","text":"This repo was originally generated from the CCBR Nextflow Template . The template takes inspiration from nektool 1 and the nf-core template. If you plan to contribute your pipeline to nf-core, don't use this template -- instead follow nf-core's instructions 2 . nektool https://github.com/beardymcjohnface/nektool \u21a9 instructions for nf-core pipelines https://nf-co.re/docs/contributing/tutorials/creating_with_nf_core \u21a9","title":"References"},{"location":"changelog/","text":"CRISPIN development version \u00b6 Nextflow parameters are now validated at the start of the workflow. (#68, @kelly-sovacool) CRISPIN 1.2.1 \u00b6 Improve help message for crispin run . (#65, @kelly-sovacool) the default --mode is now slurm . CRISPIN 1.2.0 \u00b6 CRISPIN now depends on ccbr_tools v0.4 for updated jobby & spooker utilities. (#63, @kelly-sovacool) CRISPIN 1.1.1 \u00b6 Fix error in spooker usage. (#61, @kelly-sovacool) Bump ccbr_tools to v0.3 CRISPIN 1.1.0 \u00b6 CLI updates: (#58, @kelly-sovacool) Use nextflow run -resume by default, or turn it off with crispin run --forceall . Add --output argument for crispin init and crispin run . If not provided, commands are run in the current working directory. This is equivalent to the nextflow $launchDir constant. The nextflow preview is printed before launching the actual run. Nextflow updates: Enable nextflow timeline & trace reports by default. (#55, @kelly-sovacool) Set the publish_dir_mode nextflow option to link by default. (#58, @kelly-sovacool) Set the process.cache nextflow option to deep by default on biowulf. (#58, @kelly-sovacool) Minor documentation updates. (#57, @kelly-sovacool) Fix spelling of shared SIF directory on biowulf -- it is /data/CCBR_Pipeliner/SIFs with a lowercase \"s\" at the end. (#54, @kelly-sovacool) CRISPIN 1.0.1 \u00b6 CRISPIN is now archived in Zenodo as v1.0.0. You can cite it with https://doi.org/10.5281/zenodo.13844209 . (@kelly-sovacool) Fix bug in spooker handler. (#49, @kelly-sovacool) CRISPIN 1.0.0 \u00b6 The pipeline name has been changed from CRUISE \ud83d\udef3\ufe0f to CRISPIN \ud83c\udf6a. (#43, @kelly-sovacool) Run spooker on workflow completion. Print the recommended citation in bibtex format with crispin --citation . (#32, @kelly-sovacool) Fix citation information (#38, @kelly-sovacool) Improve the documentation website with a dropdown menu to select which version to view. The latest release is shown by default. (#45, @kelly-sovacool) CRUISE 0.1.1 \u00b6 Bug fixes \u00b6 All scripts in the bin directory are now made executable for all users on biowulf (#25). Data directories are copied recursively during python package installation (#26). CRUISE 0.1.0 \u00b6 This is the first release of CRUISE \ud83c\udf89 New features \u00b6 Trim adapters with cutadapt. Run mageck count. (#9) mageck count only runs if a count table isn't given. Optional: run mageck test and mle. (#9) mageck mle only runs if a design matrix is given. Optional: run drugZ. (#10) Optional: run BAGEL2. (#11) fc (fold change) bf (bayes factor) pr (precision recall) CLI (#16) cruise init to initialize a project directory. cruise run --mode slurm to submit a slurm job to biowulf or frce. --main path/to/main.nf to select a different local install of cruise, or specify the repo ( CCBR/CRUISE ) to get it from GitHub.","title":"Changelog"},{"location":"changelog/#crispin-development-version","text":"Nextflow parameters are now validated at the start of the workflow. (#68, @kelly-sovacool)","title":"CRISPIN development version"},{"location":"changelog/#crispin-121","text":"Improve help message for crispin run . (#65, @kelly-sovacool) the default --mode is now slurm .","title":"CRISPIN 1.2.1"},{"location":"changelog/#crispin-120","text":"CRISPIN now depends on ccbr_tools v0.4 for updated jobby & spooker utilities. (#63, @kelly-sovacool)","title":"CRISPIN 1.2.0"},{"location":"changelog/#crispin-111","text":"Fix error in spooker usage. (#61, @kelly-sovacool) Bump ccbr_tools to v0.3","title":"CRISPIN 1.1.1"},{"location":"changelog/#crispin-110","text":"CLI updates: (#58, @kelly-sovacool) Use nextflow run -resume by default, or turn it off with crispin run --forceall . Add --output argument for crispin init and crispin run . If not provided, commands are run in the current working directory. This is equivalent to the nextflow $launchDir constant. The nextflow preview is printed before launching the actual run. Nextflow updates: Enable nextflow timeline & trace reports by default. (#55, @kelly-sovacool) Set the publish_dir_mode nextflow option to link by default. (#58, @kelly-sovacool) Set the process.cache nextflow option to deep by default on biowulf. (#58, @kelly-sovacool) Minor documentation updates. (#57, @kelly-sovacool) Fix spelling of shared SIF directory on biowulf -- it is /data/CCBR_Pipeliner/SIFs with a lowercase \"s\" at the end. (#54, @kelly-sovacool)","title":"CRISPIN 1.1.0"},{"location":"changelog/#crispin-101","text":"CRISPIN is now archived in Zenodo as v1.0.0. You can cite it with https://doi.org/10.5281/zenodo.13844209 . (@kelly-sovacool) Fix bug in spooker handler. (#49, @kelly-sovacool)","title":"CRISPIN 1.0.1"},{"location":"changelog/#crispin-100","text":"The pipeline name has been changed from CRUISE \ud83d\udef3\ufe0f to CRISPIN \ud83c\udf6a. (#43, @kelly-sovacool) Run spooker on workflow completion. Print the recommended citation in bibtex format with crispin --citation . (#32, @kelly-sovacool) Fix citation information (#38, @kelly-sovacool) Improve the documentation website with a dropdown menu to select which version to view. The latest release is shown by default. (#45, @kelly-sovacool)","title":"CRISPIN 1.0.0"},{"location":"changelog/#cruise-011","text":"","title":"CRUISE 0.1.1"},{"location":"changelog/#bug-fixes","text":"All scripts in the bin directory are now made executable for all users on biowulf (#25). Data directories are copied recursively during python package installation (#26).","title":"Bug fixes"},{"location":"changelog/#cruise-010","text":"This is the first release of CRUISE \ud83c\udf89","title":"CRUISE 0.1.0"},{"location":"changelog/#new-features","text":"Trim adapters with cutadapt. Run mageck count. (#9) mageck count only runs if a count table isn't given. Optional: run mageck test and mle. (#9) mageck mle only runs if a design matrix is given. Optional: run drugZ. (#10) Optional: run BAGEL2. (#11) fc (fold change) bf (bayes factor) pr (precision recall) CLI (#16) cruise init to initialize a project directory. cruise run --mode slurm to submit a slurm job to biowulf or frce. --main path/to/main.nf to select a different local install of cruise, or specify the repo ( CCBR/CRUISE ) to get it from GitHub.","title":"New features"},{"location":"contributing/","text":"Contributing to CRISPIN \u00b6 TODO -- describe gitflow, require PRs... Use pre-commit hooks \u00b6 Pre-commit can automatically format your code, check for spelling errors, etc. every time you commit. Install pre-commit if you haven't already, then run pre-commit install to install the hooks specified in .pre-commit-config.yaml . Pre-commit will run the hooks every time you commit. Versions \u00b6 Increment the version number following semantic versioning 1 in the VERSION file. Changelog \u00b6 Keep the changelog up to date with all notable changes in CHANGELOG.md 2 . VS code extensions \u00b6 If you use VS code, installing nf-core extension pack is recommended. Installation \u00b6 For testing and debugging, We recommend installing the dev version of crispin to a user-specific location. git clone https://github.com/CCBR/CRISPIN mkdir -p ~/bin/crispin pip install ./CRISPIN -t ~/bin/crispin export PATH=\"$HOME/bin/crispin/bin:$PATH\" semantic versioning guidelines https://semver.org/ \u21a9 changelog guidelines: https://keepachangelog.com/en/1.1.0/ \u21a9","title":"How to contribute"},{"location":"contributing/#contributing-to-crispin","text":"TODO -- describe gitflow, require PRs...","title":"Contributing to CRISPIN"},{"location":"contributing/#use-pre-commit-hooks","text":"Pre-commit can automatically format your code, check for spelling errors, etc. every time you commit. Install pre-commit if you haven't already, then run pre-commit install to install the hooks specified in .pre-commit-config.yaml . Pre-commit will run the hooks every time you commit.","title":"Use pre-commit hooks"},{"location":"contributing/#versions","text":"Increment the version number following semantic versioning 1 in the VERSION file.","title":"Versions"},{"location":"contributing/#changelog","text":"Keep the changelog up to date with all notable changes in CHANGELOG.md 2 .","title":"Changelog"},{"location":"contributing/#vs-code-extensions","text":"If you use VS code, installing nf-core extension pack is recommended.","title":"VS code extensions"},{"location":"contributing/#installation","text":"For testing and debugging, We recommend installing the dev version of crispin to a user-specific location. git clone https://github.com/CCBR/CRISPIN mkdir -p ~/bin/crispin pip install ./CRISPIN -t ~/bin/crispin export PATH=\"$HOME/bin/crispin/bin:$PATH\" semantic versioning guidelines https://semver.org/ \u21a9 changelog guidelines: https://keepachangelog.com/en/1.1.0/ \u21a9","title":"Installation"},{"location":"nextflow/","text":"nextflow pipeline \u00b6 You can run the nextflow pipeline directly by specifying this GitHub repo. You will need nextflow and either singularity or docker installed. In this case you don't need to run crispin init first, as the config files will be accessed directly from the GitHub repo. nextflow run CCBR/CRISPIN -profile test,singularity You can specify a specific version, tag, or branch with -r : nextflow run CCBR/CRISPIN -r v1.0.0 -profile test,singularity Create and use a custom reference genome: nextflow run CCBR/CRISPIN -profile test -entry MAKE_REFERENCE nextflow run CCBR/CRISPIN -profile test -c results/test/genome/custom_genome.config","title":"nextflow pipeline"},{"location":"nextflow/#nextflow-pipeline","text":"You can run the nextflow pipeline directly by specifying this GitHub repo. You will need nextflow and either singularity or docker installed. In this case you don't need to run crispin init first, as the config files will be accessed directly from the GitHub repo. nextflow run CCBR/CRISPIN -profile test,singularity You can specify a specific version, tag, or branch with -r : nextflow run CCBR/CRISPIN -r v1.0.0 -profile test,singularity Create and use a custom reference genome: nextflow run CCBR/CRISPIN -profile test -entry MAKE_REFERENCE nextflow run CCBR/CRISPIN -profile test -c results/test/genome/custom_genome.config","title":"nextflow pipeline"},{"location":"params/","text":"\\n CCBR/CRISPIN pipeline parameters \u00b6 CRISPR screen pipeline Input/output options \u00b6 Define where the pipeline should find input data and save output data. Parameter Description Type Default Required Hidden input Path to comma-separated file containing information about the samples in the experiment. Help You will need to create a design file with information about the samples in your experiment before running the pipeline. Use this parameter to specify its location. It has to be a comma-separated file with 3 columns, and a header row. string True outdir The output directory where the results will be saved. You have to use absolute paths to storage on Cloud infrastructure. string results True library string exp_name string crispin count_table string design_matrix string General options \u00b6 Parameter Description Type Default Required Hidden publish_dir_mode string link max_memory string 224 GB max_cpus integer 32 max_time string 72 h index_dir string True Trimming options \u00b6 Parameter Description Type Default Required Hidden cutadapt_adapters string /opt2/TruSeq_and_nextera_adapters.consolidated.fa True cutadapt_minlen integer 20 cutadapt_leadingquality integer 10 cutadapt_trailingquality integer 10 Control whether these steps are executed \u00b6 Parameter Description Type Default Required Hidden mageck_run boolean True drugz_run boolean True bagel_run boolean True crispr options \u00b6 Parameter Description Type Default Required Hidden drugz_remove_genes comma-sep str string drugz_half_window_size integer 500 bagel_core_essential_genes string /opt2/bagel-2.0-115/CEGv2.txt bagel_non_essential_genes string /opt2/bagel-2.0-115/NEGv1.txt bagel_test_columns string Docker containers \u00b6 Parameter Description Type Default Required Hidden container_bagel string nciccbr/crispin_bagel_2.0:0.1.0 container_base string nciccbr/ccbr_ubuntu_base_20.04:v5 container_cutadapt string nciccbr/ncigb_cutadapt_v1.18:latest container_drugz string nciccbr/crispin_drugz:0.1.0 container_mageck string quay.io/biocontainers/mageck:0.5.9.5--py39h1f90b4d_3 container_fastqc string nciccbr/ccrgb_qctools:v4.0 container_vispr string quay.io/biocontainers/mageck-vispr:0.5.6--py_0 Other parameters \u00b6 Parameter Description Type Default Required Hidden config_profile_name string True config_profile_description string True config_profile_url string True config_profile_contact string True igenomes_base string True","title":"Params"},{"location":"params/#ccbrcrispin-pipeline-parameters","text":"CRISPR screen pipeline","title":"CCBR/CRISPIN pipeline parameters"},{"location":"params/#inputoutput-options","text":"Define where the pipeline should find input data and save output data. Parameter Description Type Default Required Hidden input Path to comma-separated file containing information about the samples in the experiment. Help You will need to create a design file with information about the samples in your experiment before running the pipeline. Use this parameter to specify its location. It has to be a comma-separated file with 3 columns, and a header row. string True outdir The output directory where the results will be saved. You have to use absolute paths to storage on Cloud infrastructure. string results True library string exp_name string crispin count_table string design_matrix string","title":"Input/output options"},{"location":"params/#general-options","text":"Parameter Description Type Default Required Hidden publish_dir_mode string link max_memory string 224 GB max_cpus integer 32 max_time string 72 h index_dir string True","title":"General options"},{"location":"params/#trimming-options","text":"Parameter Description Type Default Required Hidden cutadapt_adapters string /opt2/TruSeq_and_nextera_adapters.consolidated.fa True cutadapt_minlen integer 20 cutadapt_leadingquality integer 10 cutadapt_trailingquality integer 10","title":"Trimming options"},{"location":"params/#control-whether-these-steps-are-executed","text":"Parameter Description Type Default Required Hidden mageck_run boolean True drugz_run boolean True bagel_run boolean True","title":"Control whether these steps are executed"},{"location":"params/#crispr-options","text":"Parameter Description Type Default Required Hidden drugz_remove_genes comma-sep str string drugz_half_window_size integer 500 bagel_core_essential_genes string /opt2/bagel-2.0-115/CEGv2.txt bagel_non_essential_genes string /opt2/bagel-2.0-115/NEGv1.txt bagel_test_columns string","title":"crispr options"},{"location":"params/#docker-containers","text":"Parameter Description Type Default Required Hidden container_bagel string nciccbr/crispin_bagel_2.0:0.1.0 container_base string nciccbr/ccbr_ubuntu_base_20.04:v5 container_cutadapt string nciccbr/ncigb_cutadapt_v1.18:latest container_drugz string nciccbr/crispin_drugz:0.1.0 container_mageck string quay.io/biocontainers/mageck:0.5.9.5--py39h1f90b4d_3 container_fastqc string nciccbr/ccrgb_qctools:v4.0 container_vispr string quay.io/biocontainers/mageck-vispr:0.5.6--py_0","title":"Docker containers"},{"location":"params/#other-parameters","text":"Parameter Description Type Default Required Hidden config_profile_name string True config_profile_description string True config_profile_url string True config_profile_contact string True igenomes_base string True","title":"Other parameters"}]}